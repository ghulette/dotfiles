setopt PROMPT_SUBST
PS1='%B%F{cyan}%3~/%B%(?.%F{green}❯%f.%F{red}✗%f)%b '

if [[ $(uname) == "Darwin" ]]; then
    export TZ=/usr/share/zoneinfo/US/Pacific
fi

# Configure history
HISTFILE=~/.zhistory
HISTSIZE=1000
SAVEHIST=1000
setopt APPEND_HISTORY
setopt SHARE_HISTORY
setopt HIST_IGNORE_ALL_DUPS
bindkey '\e[A' history-search-backward
bindkey '\e[B' history-search-forward

# Some nice options
setopt autocd beep extendedglob nomatch notify

# Use emacs keybindings
bindkey -e

# Completion
zstyle :compinstall filename '/Users/ghulette/.zshrc'
autoload -Uz compinit
compinit
zstyle ':completion:*' completer _extensions _complete _approximate
zstyle ':completion:*' use-cache on
zstyle ':completion:*' cache-path "/Users/ghulette/.zcompcache"
zstyle ':completion:*' menu select search interactive

# Load local configuration, if available
[ -d "$HOME/.local/bin" ] && export PATH="$HOME/.local/bin":$PATH
[ -f "$HOME/.zshrc_local" ] && source "$HOME/.zshrc_local"

# Add aliases only after updating path
if command -v eza &> /dev/null; then
  alias ls='eza --icons'
fi
